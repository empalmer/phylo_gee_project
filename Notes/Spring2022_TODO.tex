\documentclass[10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{mathrsfs}
\usepackage{graphicx}
\usepackage[euler]{textgreek}
\usepackage{fancyhdr} % For header
\usepackage{mdframed} % for boxes
\usepackage{geometry} % For margins
\usepackage{amsthm} % For theorems
\usepackage{amsmath,amsfonts} % For math
\usepackage{mathabx}
 \geometry{
 a4paper,
 left=.75in,
 right=.75in,
 top=1in,
 }
 \newcommand{\bb}{\mathbb}
 \usepackage{sectsty}
\subsectionfont{\large\underline}
\fancyhf{}
\renewcommand\thesection{}
\renewcommand\thesubsection{}
\fancyhead[L]{\textbf{\leftmark\rightmark}}
\fancyhead[R]{\textbf{Research TODO}}

\rfoot{Page \thepage}
\pagestyle{fancy}

% For checklist
\usepackage{enumitem,amssymb}
\newlist{todolist}{itemize}{2}
\setlist[todolist]{label=$\square$}
\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\done}{\rlap{$\square$}{\raisebox{2pt}{\large\hspace{1pt}\cmark}}%
\hspace{-2.5pt}}
\newcommand{\wontfix}{\rlap{$\square$}{\large\hspace{1pt}\xmark}}
\newcommand{\inprogress}{\rlap{$\square$}{\large\hspace{1pt}$\bigstar$}}
\newcommand{\focus}{\ding{222}}
\newcommand{\lastweek}{$\convolution \square $}
\newcommand{\order}[1]{\rlap{$\square$}{\large\hspace{1pt}(#1)}}


\theoremstyle{definition}
\newtheorem*{definition}{Definition}
\newtheorem*{example}{Example}
\newtheorem*{theorem}{Theorem}
\newtheorem*{lemma}{Lemma}
\newtheorem*{corollary}{Corrolary}
\setlength{\parskip}{1em}
\setlength{\parindent}{0pt}
\begin{document}

\section{Week 1}

\begin{itemize}
  \item Broad goal: Fix code.
  \begin{todolist}
    \item[\done] Use less filtered dataset
    \item Distance matrix argument to dist?
    \begin{itemize}
      \item Need both forms, so may or may not be useful
    \end{itemize}
    \item Check if phi is correct now, and see how is used
    \item[\done] Figure out large alpha problem
    \begin{itemize}
      \item Seems the + and one loop beta fixed this?
    \end{itemize}
    \item Try a different covariate?
    \item Figure out why geem code uses + instead of - on update
    \begin{itemize}
      \item I think + is correct. At least it converges.
    \end{itemize}
    \item Identify which covariate is causing the trouble.
    \item Try removing the single OTU that seems to be contributing to problem.
    \item Save everything to list correctly to look at later.
    \begin{itemize}
      \item Saving rho, omega, phi, beta, diff (abs), num iterations
      \item Also do residuals. Which residuals? Cross product ones? Squared ones? Standardized squared ones? Probably standardized but not squared. Should be distributed around zero. ?
    \end{itemize}
    \item[\done]Plot lists
    \begin{itemize}
      \item Plotted rhos, omegas, phis, diffs, not sure what else to plot.
    \end{itemize}
    \item[\done] Remove scalar update.
    \begin{itemize}
      \item Doesn't work. see journal
    \end{itemize}
    \item Write up algorithm for Yuan to go through? Ask to check.
    \item Final run through before meeting of graphs and numbers
    \item[\done] Move timing into function
  \end{todolist}
\end{itemize}

\section{Week 2}
Main tasks:
\begin{itemize}
  \item To-do from sheet
  \item Prepare presentation
\end{itemize}


\begin{todolist}
  \item[\done] Wednesday email research update.
  \item[\done] Include more taxa: more zero-inflation
  \begin{itemize}
    \item Not great results. see journal omega = .99, rho = .1
    \item runtime of 20 min.
  \end{itemize}
  \item[\done] Add computation time in model.
  \item[\done] Make presentation
  \item[\done] Figure out why adding the minus sign changes the code.
  \begin{itemize}
    \item Pretty sure this is because we are then adding or subtracting the $\lambda I$ incorrectly.
  \end{itemize}
  \item[\done] Try changing the minus sign on larger dataset.
  \begin{itemize}
    \item Either immediate convergence or infinite alpha values on 1st iteration.....
  \end{itemize}
  \item[\done] Set up automatic save outputs along with description
  \item[\done] Try with a medium sized dataset, like prevalence of .2?
  \item[\done] Save test datasets to files for easy loading
  \item[\done] Only include last beta output?
  \item Try different covariates (parasite burden/antibiotics/exposure)
  \item Think about genus level analysis/ phylogenetic tree for taxonomic units
  \item Choose $\alpha$ automatically (simple line search)
  \item Write up line-search steps and goals
  \item Understand how Hessian is calculated and expected values equal zero.
  \item Run on previous dataset from original paper.
  \item Rename file with algorithm
  \item Compare to independence GEE written already geeglm?
  \item Calculate sandwhich variance estimators for asymptotic significance tests
  \item See if new shared tree that Tom had is the same?
  \item Add residuals to output and look at plots
  \item Change initial value to something different?
  \begin{itemize}
    \item change initial rho to 10. Changes results (of at least ests of rho and omega)
    \item Try previous iterations rho and omega.
    \item See how beta estimates change
    \item Run code with initial value of 1 again to compare.
  \end{itemize}
  \item Read numerical optimization book.

  \item Save convergence results of nls optim
    \item Make sure subtraction in $\phi$ is correct
\end{todolist}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%   Week 3    %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\section{Week 3}
\begin{itemize}
  \item General
  \begin{todolist}
      \item[\lastweek] Read numerical optimization book.
      \item[\lastweek] Understand how Hessian is calculated and expected values equal zero.
      \item[\lastweek] Run on previous dataset from original paper.
      \item[\lastweek] Rename file with algorithm
      \item[\done] Take pictures of meeting notes.
      \item Figure out how to send jobs to server
  \end{todolist}
  \item Line search
  \begin{todolist}
      \item[\lastweek] Choose $\alpha$ automatically (simple line search)
      \item[\lastweek] Write up line-search steps and goals
      \item Add condition if infinity or NA to halve gamma
      \item Clean up code for speed and remove redundancy.
      \item Look at notes from meeting about (different?) conditions
      \item Code was set up incorrectly. Fix. Shouldnt be updating betas each time, just checking.
      \item Save sum of absolute G for each iteration.
  \end{todolist}
  \item Convergence
  \begin{todolist}
    \item[\lastweek] Save convergence results of nls optim
    \item Change $\lambda$ to be based on eigenvalues.
    \item Save eigenvalues and look at ratio.
    \item Test to see difference within iterations of if starting values (eg rho = 10) give different results.
  \end{todolist}
  \item Correlation: Importance of $\rho, \omega$
  \begin{todolist}
      \item[\lastweek] Compare to independence GEE written already geeglm?
      \item[\lastweek] Calculate sandwich variance estimators for asymptotic significance tests.
      \item Keep $\rho$ or $\omega$ the same throughout the algorithm
  \end{todolist}
  \item Other
  \begin{todolist}
      \item[\lastweek] See if new shared tree that Tom had is the same?
      \item[\lastweek] Try different covariates (parasite burden/antibiotics/exposure)
      \item[\lastweek] Think about genus level analysis/ phylogenetic tree for taxonomic units
      \item Add condition to make sure $\rho, \omega$ also converge
      \item Email Tom with questions
      \item Think about how hypothesis tests work
      \item Read about GEE hypothesis tests
  \end{todolist}
\end{itemize}



\newpage
\section{Week 4}

\begin{todolist}
  \item Writeup meeting notes
  \item Email Tom (response to my email) about more information
  \item Look into *resolving nodes*
  \item Select one Genus/Family to only have 10 ish ASVs. Filter dataset, and tree.
  \item Test against identity, fixed values of omega and rho.
\end{todolist}

\newpage
\section{Week 5}

\begin{todolist}
  \item[\done] Make gamma, lambda values arguments in the functions.
  \item[\done] Save final residuals in model.
  \item[\done] Convert initilization to one line list.
  \item[\done] See if weird jump still happens. figure this out.
  \begin{itemize}
    \item Seems like jump does not exist anymore.
  \end{itemize}
  \item[\done] Add model call to result list
  \item[\done] Create diagnoistics plot function
  \begin{itemize}
    \item Patchwork outputs
  \end{itemize}
  \item[\done] Clean up old code
  \item[\done] Save beta values again and look at changes.
  \item[\done] Run through with bug fixed. See what goes on. Write up results
  \item[\done] Figure out a way to compare beta values
  \begin{itemize}
    \item Using a line plot across iterations
  \end{itemize}
  \item[\done] Add GEE values to plot.
  \item[\done] Check if gamma = 1 betas are same as gamma = .1 betas
    \begin{itemize}
      \item They are not.
    \end{itemize}
  \item[\done] Figure out how to compare betas across different model runs (probably same line function?)
  \item Think about how to do simulations, since we need to have something to check against.
  \item Try to sum up phylogenetic tree and see if there are any problems.
  \item Email Tom about summing up the phylogenetic tree
  \item Look at residual matrix (cross residuals). See if close to zero.
  \item Use data that is just random common taxa.
  \item Try different covariates
  \item Consider moving functions to new files
  \item Convert all nls functions to matrices to make sure all entries match indeces.
  \item Update roxygen skeletons for functions
  \item Add final values of omega, rho and phi to patchwork plot
    \item[\done] Try independence
    \item Compare independence to geem beta values.
    \item Try fixed values of $\omega, \rho$
  \item[\done] Figure out why flavo + 30p dataset stops in 2 iterations
  \begin{itemize}
    \item Figured out where the problem occurs, but not sure why it occurs...
  \end{itemize}
  \item See how $\lambda$ values change beta values.
  \item Explore convergence of optim loop.
  \item Check variances are correctly between 0 and 1.
  \item Compare beta values with a larger/smaller gamma to .1 and see if beta values are different.
  \item Implement line search? maybe will work now that bug is found.

\end{todolist}

\end{document}
